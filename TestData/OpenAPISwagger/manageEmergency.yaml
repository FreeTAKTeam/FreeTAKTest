openapi: 3.0.1
info:
  version: "1.0"
  title: "ManageEmergency API"
servers:
  - url: /ManageEmergency
paths:
  /postEmergency:
    post:
      summary: "Create a new emergency"
      requestBody:
        required: true
        content:
          application/x-www-form-urlencoded:
            schema:
              type: object
              required:
                - name
                - emergencyType
                - longitude
                - latitude
                - uid
              properties:
                name:
                  type: string
                emergencyType:
                  type: string
                  enum:
                    - "911 Alert"
                    - "Ring The Bell"
                    - "Geo-fence Breached"
                    - "In Contact"
                longitude:
                  type: number
                latitude:
                  type: number
                uid:
                  type: string
                address:
                  type: string
          application/json:
            schema:
              type: object
              required:
                - name
                - emergencyType
                - longitude
                - latitude
                - uid
              properties:
                name:
                  type: string
                emergencyType:
                  type: string
                  enum:
                    - "911 Alert"
                    - "Ring The Bell"
                    - "Geo-fence Breached"
                    - "In Contact"
                longitude:
                  type: number
                latitude:
                  type: number
                uid:
                  type: string
                address:
                  type: string
      responses:
        "200":
          description: "Success"
          content:
            application/json: {}
  /getEmergency:
    get:
      summary: "Get a list of current active emergencies"
      responses:
        "200":
          description: "Success"
          content:
            application/json:
              schema:
                type: object
                properties:
                  json_list:
                    type: array
                    items:
                      type: object
                      properties:
                        PrimaryKey:
                          type: integer
                        event_id:
                          type: string
  /deleteEmergency:
    delete:
      summary: "Delete an active emergency"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - uid
              properties:
                uid:
                  type: string
      responses:
        "200":
          description: "Success"
          content:
            application/json: {}
