openapi: 3.0.1
info:
  title: User Health API
  version: 1.0.0
  description: API for creating, updating, and retrieving user health metrics.
  license:
    name: Eclipse Public License 2.0
    url: https://www.eclipse.org/legal/epl-2.0/
servers:
  - url: /
security: []
paths:
  /userHealth:
    post:
      summary: Create User Health Data
      operationId: createUserHealth
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UserHealth'
      responses:
        '201':
          description: User Health data created successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserHealth'
        '400':
          description: Invalid request
    put:
      summary: Update User Health Data
      operationId: updateUserHealth
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UserHealth'
      responses:
        '200':
          description: User Health data updated successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserHealth'
        '400':
          description: Invalid request
  /userHealth/{property}:
    get:
      summary: Get specific User Health Data
      operationId: getUserHealthProperty
      parameters:
        - name: property
          in: path
          required: true
          description: The health property to retrieve (e.g., HeartRate, StepsCount)
          schema:
            type: string
      responses:
        '200':
          description: Successfully retrieved the property data
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HealthPropertyResponse'
        '400':
          description: Invalid request
components:
  schemas:
    UserHealth:
      type: object
      description: Health metrics derived from a smartwatch or fitness sensors.
      properties:
        BloodyPressure:
          type: string
          description: Blood pressure as a string with systolic first, separator ":", then diastolic (e.g. "120:80").
          example: '120:80'
        BodyTemperature:
          type: number
          description: Body temperature measurement in Celsius.
          example: 36.9
        CaloriesBurned:
          type: integer
          description: Calories burned in the last 24 hours.
          example: 530
        HeartRate:
          type: integer
          description: Heart rate in beats per minute.
          example: 72
        SleepData:
          type: string
          description: Sleep duration or timestamp information (implementation-defined).
          example: 'PT7H30M'
        StepsCount:
          type: integer
          description: Number of steps taken in the last 24 hours.
          example: 10452
        StressLevel:
          type: string
          description: Stress level (implementation-defined, e.g. percent or label).
          example: '12%'
        bodyOxygen:
          type: integer
          description: Blood oxygen saturation percentage.
          minimum: 0
          maximum: 100
          example: 98
    HealthPropertyResponse:
      type: object
      required:
        - value
      properties:
        value:
          description: The property value.
          oneOf:
            - type: string
            - type: integer
            - type: number
            - type: boolean
